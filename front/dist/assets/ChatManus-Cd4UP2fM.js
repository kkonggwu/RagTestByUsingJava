import{d as m,r as u,f as p,c as o,a as t,g as v,F as _,h as f,i as y,v as g,j as T,n as w,o as r,k as M,_ as b}from"./index-DumoIkdR.js";import{e as d,u as x}from"./text-YWM8f9FD.js";const E={class:"chat-page"},U={key:0,class:"chat-avatar"},k={key:1,class:"chat-avatar"},D=["innerHTML"],S=m({__name:"ChatManus",setup(C){const n=u([]),l=u(""),i=u(null);p(n,async()=>{await M(),i.value&&(i.value.scrollTop=i.value.scrollHeight)},{deep:!0});async function h(){const c=l.value.trim();if(!c)return;n.value.push({id:crypto.randomUUID(),role:"user",html:d(c)}),l.value="";const e=new URL("/api/hyper_project/manus/chat",window.location.origin);e.searchParams.set("message",c);const a=x(e.toString(),s=>{!s||s==="[DONE]"||s==="DONE"||n.value.push({id:crypto.randomUUID(),role:"assistant",html:d(s)})},s=>{});setTimeout(a,12e4)}return(c,e)=>(r(),o("div",E,[e[2]||(e[2]=t("header",{class:"chat-header chat-header-common"},[t("span",{class:"chat-header-avatar"},"ğŸ§ "),v("Manus")],-1)),t("div",{class:"chat-history chat-history-common",ref_key:"historyEl",ref:i},[(r(!0),o(_,null,f(n.value,a=>(r(),o("div",{key:a.id,class:w(["chat-msg",a.role])},[a.role==="assistant"?(r(),o("div",U,"ğŸ§ ")):(r(),o("div",k,"ğŸ§‘")),t("div",{class:"chat-bubble",innerHTML:a.html},null,8,D)],2))),128))],512),t("form",{class:"chat-input chat-input-common",onSubmit:T(h,["prevent"])},[y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),placeholder:"å‘æ™ºèƒ½ä½“æé—®..."},null,512),[[g,l.value]]),e[1]||(e[1]=t("button",{type:"submit"},"å‘é€",-1))],32)]))}}),N=b(S,[["__scopeId","data-v-e31a5e03"]]);export{N as default};
